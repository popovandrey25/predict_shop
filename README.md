# Инструкции по запуску бэкенда

Этот документ описывает процесс настройки и запуска бэкенда проекта `predict_shop`. Бэкенд разработан на FastAPI, использует Alembic для миграций базы данных и PostgreSQL в качестве базы данных.

## Требования

Убедитесь, что на вашем компьютере установлены следующие компоненты:

- Python (>=3.9)
- PostgreSQL (>=13)
- Docker и Docker Compose (опционально, для контейнерного запуска)

## Шаги установки

### 1. Клонирование репозитория

```bash
git clone <repository-url>
cd predict_shop/backend
```

### 2. Настройка переменных окружения

1. Скопируйте пример файла переменных окружения и обновите значения при необходимости:

   ```bash
   cd app
   cp .env.example .env
   ```

2. Отредактируйте файл `.env`, чтобы указать ваши учетные данные PostgreSQL, настройки приложения и т.д.

### 3. Установка зависимостей

Используйте Poetry для установки зависимостей:

```bash
poetry install
```

### 4. Запуск PostgreSQL через Docker Compose

Если у вас не настроен локальный сервер PostgreSQL, вы можете использовать Docker Compose для запуска контейнера с PostgreSQL:

```bash
docker compose up -d
```

### 5. Применение миграций базы данных

Убедитесь, что PostgreSQL запущен, и учетные данные в `.env` указаны корректно. Затем выполните миграции Alembic:

```bash
cd app
alembic upgrade head
cd ..
```

### 6. Запуск бэкенда

Запустите FastAPI приложение:

```bash
cd app
python main.py
```

Приложение будет доступно по адресу [http://127.0.0.1:8000](http://127.0.0.1:8000).
